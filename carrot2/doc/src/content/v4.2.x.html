<article>
  <h1>Carrot<sup>2</sup> 4.2.x</h1>

  <p>
    Release history for Carrot2 4.2.x and bugfix releases.
  </p>

  <!--
  <section id="v4.x.y">
    <h2>Version 4.x.y [unreleased]</h2>

    <p>
      This is a bugfix release.
    </p>

    <ul>
    </ul>
  </section>
  -->

  <section id="v4.2.1">
    <h2>Version 4.2.1</h2>
    <time datetime="2021-03-29"></time>

    <p>
      This is a bugfix release fixing DCS launch scripts.
    </p>

    <section id="4.2.1:bug-fixes">
      <h3>Bug fixes</h3>

      <dl>
        <!--
        <dt></dt>
        <dd>
          <p>
          </p>

          <label class="rest-api"></label>
          <label class="java-api"></label>
          <a href="https://github.com/carrot2/carrot2/issues/xx">#xx</a>
        </dd>
        -->

        <dt>DCS scripts</dt>
        <dd>
          <p>
            A regression bug introduced in v4.2.0 prevents the dcs from
            starting (SCRIPT_HOME variable set instead of DCS_HOME).
            Affects Linux script only.
          </p>
          <p>
            A workaround of passing an explicit <code>--home</code> parameter
            can be used for version 4.2.0.
          </p>

          <label class="dcs"></label>
          <a href="https://github.com/carrot2/carrot2/issues/102">#102</a>
        </dd>
      </dl>
    </section>
  </section>

  <section id="4.2.0" data-toc="omit-children">
    <h2>Version 4.2.0</h2>
    <time datetime="2021-03-26"></time>

    <p>
      This release enhances glob dictionaries with new wildcard operators,
      brings GUI cleanups and improvements to the Workbench and fixes bugs
      in the (low-level) algorithm loader API.
    </p>

    <p>
      This release is not a drop-in replacement for Carrot<sup>2</sup> 4.1.x: if you
      have any custom language components (dictionaries) they may need to be reviewed
      because the behavior of the glob matcher and regular expression matcher
      have changed.
    </p>

    <section id="4.2.0:new-features">
      <h3>New features</h3>

      <dl>
        <dt id="4.2.0:new-features:glob-matcher">Improvements to glob dictionaries</dt>
        <dd>
          <p>
            The <a href="dictionaries.html#syntax:glob-matcher">glob matcher dictionary</a> has been rewritten
            and improved to support more operators (one-or-more, one, possessive and reluctant matches).
          </p>

          <p>
            This feature does change the API (see API changes below).
          </p>

          <label class="java-api"></label>
          <a href="https://github.com/carrot2/carrot2/issues/94">#94</a>
        </dd>

        <dt id="4.2.0:new-features:dcs-pid">DCS --pid-file option</dt>
        <dd>
          <p>
            The DCS launcher now supports the <code>--pid-file</code> option which
            emits the process PID. This option can be useful for various service wrappers.
          </p>

          <label class="dcs"></label>
          <a href="https://github.com/carrot2/carrot2/issues/82">#82</a>
        </dd>
      </dl>

      <dt id="4.2.0:new-features:dcs-idle-time">DCS --idle-time option</dt>
      <dd>
        <p>
          The DCS launcher now supports the <code>--idle-time</code> option which
          sets the default server side socket idle time expiry.
        </p>

        <label class="dcs"></label>
        <a href="https://github.com/carrot2/carrot2/issues/99">#99</a>
      </dd>
      </dl>
    </section>

    <section id="4.2.0:api-changes">
      <h3>API changes</h3>

      <dl>
        <dt id="4.2.0:api-changes:glob-matcher">
          Glob matcher syntax changes
        </dt>
        <dd>
          <p>
            The new syntax added to the
            <a href="#4.2.0:new-features:glob-matcher">glob matcher dictionary</a>
            may cause small incompatibilities with any previously defined dictionaries.
            The single <code>*</code> operator is now possessive (matches as many tokens
            as possible) and the previous behavior is now available under a
            reluctant variant of: <code>*?</code>.
          </p>

          <label class="java-api"></label>
          <a href="https://github.com/carrot2/carrot2/issues/94">#94</a>
        </dd>

        <dt id="4.2.0:api-changes:regexp-matcher">
          Regular expression matchers match any substring
        </dt>
        <dd>
          <p>
            The
            <a href="dictionaries.html#syntax:regular-expression-matcher">regular expression</a>
            dictionary now triggers on any sub-sequence match (not entire label match). This behavior
            was actually documented and was the default in Carrot<sup>2</sup> release prior to 2.0.0
            so it's a regression.
          </p>

          <p>
            If you need to revert to the previous behavior, add start and end requirement
            directly to your regular expressions: <code>^(previous-regexp)$</code>.
          </p>

          <label class="java-api"></label>
          <a href="https://github.com/carrot2/carrot2/issues/81">#81</a>
        </dd>

        <dt id="4.2.0:api-changes:dcs-sh">
          <code>dcs.sh</code> is now <code>dcs</code>
        </dt>
        <dd>
          <p>
            Bash script name for launching the DCS was renamed
            from <code>dcs.sh</code> to <code>dcs</code>.
          </p>

          <label class="dcs"></label>
          <a href="https://github.com/carrot2/carrot2/issues/98">#98</a>
        </dd>
      </dl>
    </section>

    <section id="4.2.0:improvements">
      <h3>Improvements</h3>

      <dl>
        <!--
        <dt></dt>
        <dd>
          <p>
          </p>

          <label class="java-api"></label>
          <a href="https://github.com/carrot2/carrot2/issues/xx">#xx</a>
        </dd>
        -->

        <dt>Workbench improvements</dt>
        <dd>
          <p>
            Numerous workbench user interface improvements and tweaks have been made.
          </p>

          <a href="https://github.com/carrot2/carrot2/issues/75">#75</a>
          <a href="https://github.com/carrot2/carrot2/issues/76">#76</a>
          <a href="https://github.com/carrot2/carrot2/issues/84">#84</a>
        </dd>
      </dl>
    </section>

    <section id="4.2.0:bug-fixes">
      <h3>Bug fixes</h3>

      <dl>
        <!--
        <dt></dt>
        <dd>
          <p>
          </p>

          <label class="rest-api"></label>
          <label class="java-api"></label>
          <a href="https://github.com/carrot2/carrot2/issues/xx">#xx</a>
        </dd>
        -->

        <dt>LanguageComponentsLoader</dt>
        <dd>
          <p>
            LanguageComponentsLoader now allows loading optional components for algorithms
            if providers support them.
          </p>

          <label class="java-api"></label>
          <a href="https://github.com/carrot2/carrot2/issues/85">#85</a>
        </dd>
      </dl>
    </section>

    <section id="4.2.0:infrastructure">
      <h3>Infrastructure</h3>

      <dl>
        <!--
        <dt></dt>
        <dd>
          <p>
          </p>

          <label class="rest-api"></label>
          <label class="java-api"></label>
          <a href="https://github.com/carrot2/carrot2/issues/xx">#xx</a>
        </dd>
        -->
      </dl>
    </section>
  </section>
</article>
